<%= render 'shared/errors', object: @post %>

<article class="card mt-3 mb-3 text-center mx-auto" style="max-width: 600px;">
<%= form_with model: @post do |f| %>
  <div class="mb-3 row">
    <div class="col-sm-10 mb-4 mt-4 mx-4">
      <%= f.text_field :title, placeholder: "Title your post", class: 'form-control' %>
    </div>
  </div>
  
<div class="img-container ">
        <% if @post.image.present? %>
          <%= image_tag @post.image_url %>
        <% end %>
      </div>

  <div class="mb-3 row">
    <div class="col-sm-10 mb-4 mt-4 mx-4">
      <%= f.text_area :body, placeholder: "What do you want to share?", class: 'form-control' %>
      <div class="mb-4 mt-4 mx-4"><%= f.file_field :image %></div>
    </div>
  </div>

  <div class="col-sm-10 mb-4 mt-4 mx-4">
    <div class="input-group">
      <%= f.collection_select :tag_ids, @tags, :id, :title, {}, multiple: true,
                              class: 'form-select js-multiple-select js-ajax-select',
                              id: 'post_tag_ids' %>
      
      <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-chevron-down"></i>
      </button>
      <ul class="dropdown-menu">
        <% @tags.each do |tag| %>
          <li><%= f.check_box :tag_ids, { multiple: true }, tag.id, nil %> <%= tag.title %></li>
        <% end %>
      </ul>
    </div>
  </div>
  
  <div class="mb-4 mt-4 mx-4">
  <%= f.submit 'Save post', class: 'btn btn-dark' %>
<% end %>
</div>
</article>